<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- BootStrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- <link href="D:\Data\Desktop\MIniProj\SecurityPortal\static\phis.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="{{url_for('static', filename='phis.css')}}">
    <title>Spam Ham Detectipn</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">

</head>

<body>

    <!--  -->
    <center>
        <div class="container">
          <div class="qr-form-container">
            <form action="{{url_for('qr_method')}}" method="post" enctype="multipart/form-data">
              <div class="form-group">
                <label class="qr-label" for="exampleFormControlFile1">Upload QR code image here </label><br>
                <input type="file" class="qr-input" id="exampleFormControlFile1" name="QRimg">
              </div>
              <center><button type="submit" class="btn btn-outline-dark text-white">Predict</button></center>
            </form>
            <center><a href="/"><button type="submit" class="btn btn-outline-dark text-white">Go Back</button></a></center>
            <br>
          </div>
          {% if flag==0 %}
          <div class="qr-container">
            {% if status=='Unsafe' %}
            <label class="qr-label" for="exampleFormControlFile3">RESULT: This URL is unsafe for you</label><br><br>
            <img class="qr-img" src="/static/files/{{flname}}" alt="QRcode Preview" width="10%" height="10%"><br>
            <a href="{{qrcodeURL}}">{{qrcodeURL}}</a><br>
            <input href="{{qrcodeURL}}" type="button" value="continue" class="cont-but">
            {% else %}
            <label class="qr-label" for="exampleFormControlFile3">RESULT: {{status}}</label><br><br>
            <img class="qr-img" src="/static/files/{{flname}}" alt="QRcode Preview" width="10%" height="10%"><br>
            <a href="{{qrcodeURL}}">{{qrcodeURL}}</a><br>
            <input href="{{qrcodeURL}}" type="button" value="Good To Go" class="cont-but">
            {% endif %}
            <!-- <h1 class="qr-h1">Result is : {{qrcodeURL}}</h1><br> -->

          </div>
          {% endif %}
          {% if flag==1 %}
          <div class="qr-container">
            <h1 class="qr-h1">No QR code detected please check your uploaded and try again</h1>
            <img class="qr-img" src="/static/files/{{flname}}" alt="QRcode Preview" width="10%" height="10%">
          </div>
          {% endif %}
          {% if flag==2 %}
          <div class="qr-container">
            <h1 class="qr-h1">QR code detected but it does not contain any URL</h1>
            <h2 class="qr-h2">QR code Data is : {{qrcodeURL}}</h2>
            <img class="qr-img" src="/static/files/{{flname}}" alt="QRcode Preview">
          </div>
          {% endif %}

        </div>
      </center>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>


    <script>

    </script>


</body>
<!-- function result(){

            let x = '{{ SpamRes }}';

            if (x==0) {
                var label = "Mail is Safe (Not Spam)"
                document.getElementById("prediction").innerHTML = label;

            }

            else {
                var label ="Mail is Spam "
                document.getElementById("prediction").innerHTML = label;

            }

        } -->
</html>